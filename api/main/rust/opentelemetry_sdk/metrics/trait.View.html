<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Used to customize the metrics that are output by the SDK."><title>View in opentelemetry_sdk::metrics - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Bold-a2c9cd1067f8b328.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-63a85fc7cf22dee2.css" id="mainThemeStyle"><div id="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="opentelemetry_sdk" data-themes="" data-resource-suffix="" data-rustdoc-version="1.70.0-nightly (696aaad58 2023-04-09)" data-search-js="search-bc5a112813b5d712.js" data-settings-js="settings-298e1ea74db45b39.js" data-settings-css="settings-0bcba95ff279c1db.css" data-theme-light-css="light-db279b6232be9c13.css" data-theme-dark-css="dark-cf923f49f397b216.css" data-theme-ayu-css="ayu-be46fdc453a55015.css" ></div><script src="../../static.files/storage-62ce34ea385b278a.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../static.files/main-1159a395118aa44e.js"></script><noscript><link rel="stylesheet" media="(prefers-color-scheme:light)" href="../../static.files/light-db279b6232be9c13.css"><link rel="stylesheet" media="(prefers-color-scheme:dark)" href="../../static.files/dark-cf923f49f397b216.css"><link rel="stylesheet" href="../../static.files/noscript-13285aec31fa243e.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../../opentelemetry_sdk/index.html"><img src="https://raw.githubusercontent.com/open-telemetry/opentelemetry-rust/main/assets/logo.svg" alt="logo"></a><h2></h2></nav><nav class="sidebar"><a class="logo-container" href="../../opentelemetry_sdk/index.html"><img src="https://raw.githubusercontent.com/open-telemetry/opentelemetry-rust/main/assets/logo.svg" alt="logo"></a><h2 class="location"><a href="#">View</a></h2><div class="sidebar-elems"><section><h3><a href="#required-methods">Required Methods</a></h3><ul class="block"><li><a href="#tymethod.match_inst">match_inst</a></li></ul><h3><a href="#foreign-impls">Implementations on Foreign Types</a></h3><ul class="block"><li><a href="#impl-View-for-Box%3Cdyn+View%3E">Box&lt;dyn View&gt;</a></li></ul><h3><a href="#trait-implementations">Trait Implementations</a></h3><ul class="block"><li><a href="#impl-View-for-Box%3Cdyn+View%3E">View</a></li></ul><h3><a href="#implementors">Implementors</a></h3></section><h2><a href="index.html">In opentelemetry_sdk::metrics</a></h2></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Trait <a href="../index.html">opentelemetry_sdk</a>::<wbr><a href="index.html">metrics</a>::<wbr><a class="trait" href="#">View</a><button id="copy-path" title="Copy item path to clipboard"><img src="../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="srclink" href="../../src/opentelemetry_sdk/metrics/view.rs.html#49-55">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><pre class="rust item-decl"><code>pub trait View: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'static {
    // Required method
    fn <a href="#tymethod.match_inst" class="fn">match_inst</a>(&amp;self, inst: &amp;<a class="struct" href="struct.Instrument.html" title="struct opentelemetry_sdk::metrics::Instrument">Instrument</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="struct.Stream.html" title="struct opentelemetry_sdk::metrics::Stream">Stream</a>&gt;;
}</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Used to customize the metrics that are output by the SDK.</p>
<p>Here are some examples when a <a href="trait.View.html" title="trait opentelemetry_sdk::metrics::View">View</a> might be needed:</p>
<ul>
<li>Customize which Instruments are to be processed/ignored. For example, an
instrumented library can provide both temperature and humidity, but the
application developer might only want temperature.</li>
<li>Customize the aggregation - if the default aggregation associated with the
<a href="struct.Instrument.html" title="struct opentelemetry_sdk::metrics::Instrument">Instrument</a> does not meet the needs of the user. For example, an HTTP client
library might expose HTTP client request duration as Histogram by default,
but the application developer might only want the total count of outgoing
requests.</li>
<li>Customize which attribute(s) are to be reported on metrics. For example,
an HTTP server library might expose HTTP verb (e.g. GET, POST) and HTTP
status code (e.g. 200, 301, 404). The application developer might only care
about HTTP status code (e.g. reporting the total count of HTTP requests for
each HTTP status code). There could also be extreme scenarios in which the
application developer does not need any attributes (e.g. just get the total
count of all incoming requests).</li>
</ul>
<h2 id="example-custom-view"><a href="#example-custom-view">Example Custom View</a></h2>
<p>View is implemented for all <code>Fn(&amp;Instrument) -&gt; Option&lt;Stream&gt;</code>.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>opentelemetry_sdk::metrics::{Instrument, MeterProvider, Stream};

<span class="comment">// return streams for the given instrument
</span><span class="kw">let </span>my_view = |i: <span class="kw-2">&amp;</span>Instrument| {
  <span class="comment">// return Some(Stream) or
  </span><span class="prelude-val">None
</span>};

<span class="kw">let </span>provider = MeterProvider::builder().with_view(my_view).build();</code></pre></div>
</div></details><h2 id="required-methods" class="small-section-header">Required Methods<a href="#required-methods" class="anchor">§</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="tymethod.match_inst" class="method"><a class="srclink rightside" href="../../src/opentelemetry_sdk/metrics/view.rs.html#54">source</a><h4 class="code-header">fn <a href="#tymethod.match_inst" class="fn">match_inst</a>(&amp;self, inst: &amp;<a class="struct" href="struct.Instrument.html" title="struct opentelemetry_sdk::metrics::Instrument">Instrument</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="struct.Stream.html" title="struct opentelemetry_sdk::metrics::Stream">Stream</a>&gt;</h4></section></summary><div class="docblock"><p>Defines how data should be collected for certain instruments.</p>
<p>Return <a href="struct.Stream.html" title="struct opentelemetry_sdk::metrics::Stream">Stream</a> to use for matching <a href="struct.Instrument.html" title="struct opentelemetry_sdk::metrics::Instrument">Instrument</a>s,
otherwise if there is no match, return <code>None</code>.</p>
</div></details></div><h2 id="trait-implementations" class="small-section-header">Trait Implementations<a href="#trait-implementations" class="anchor">§</a></h2><div id="trait-implementations-list"><details class="toggle implementors-toggle" open><summary><section id="impl-View-for-Box%3Cdyn+View%3E" class="impl"><a class="srclink rightside" href="../../src/opentelemetry_sdk/metrics/view.rs.html#66-70">source</a><a href="#impl-View-for-Box%3Cdyn+View%3E" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="trait.View.html" title="trait opentelemetry_sdk::metrics::View">View</a> for <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="trait.View.html" title="trait opentelemetry_sdk::metrics::View">View</a>&gt;</h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.match_inst" class="method trait-impl"><a class="srclink rightside" href="../../src/opentelemetry_sdk/metrics/view.rs.html#67-69">source</a><a href="#method.match_inst" class="anchor">§</a><h4 class="code-header">fn <a href="trait.View.html#tymethod.match_inst" class="fn">match_inst</a>(&amp;self, inst: &amp;<a class="struct" href="struct.Instrument.html" title="struct opentelemetry_sdk::metrics::Instrument">Instrument</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="struct.Stream.html" title="struct opentelemetry_sdk::metrics::Stream">Stream</a>&gt;</h4></section></summary><div class='docblock'>Defines how data should be collected for certain instruments. <a href="trait.View.html#tymethod.match_inst">Read more</a></div></details></div></details></div><h2 id="foreign-impls" class="small-section-header">Implementations on Foreign Types<a href="#foreign-impls" class="anchor">§</a></h2><details class="toggle implementors-toggle"><summary><section id="impl-View-for-Box%3Cdyn+View%3E-1" class="impl"><a class="srclink rightside" href="../../src/opentelemetry_sdk/metrics/view.rs.html#66-70">source</a><a href="#impl-View-for-Box%3Cdyn+View%3E-1" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="trait.View.html" title="trait opentelemetry_sdk::metrics::View">View</a> for <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="trait.View.html" title="trait opentelemetry_sdk::metrics::View">View</a>&gt;</h3></section></summary><div class="impl-items"><section id="method.match_inst-1" class="method trait-impl"><a class="srclink rightside" href="../../src/opentelemetry_sdk/metrics/view.rs.html#67-69">source</a><a href="#method.match_inst-1" class="anchor">§</a><h4 class="code-header">fn <a href="#tymethod.match_inst" class="fn">match_inst</a>(&amp;self, inst: &amp;<a class="struct" href="struct.Instrument.html" title="struct opentelemetry_sdk::metrics::Instrument">Instrument</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="struct.Stream.html" title="struct opentelemetry_sdk::metrics::Stream">Stream</a>&gt;</h4></section></div></details><h2 id="implementors" class="small-section-header">Implementors<a href="#implementors" class="anchor">§</a></h2><div id="implementors-list"><section id="impl-View-for-T" class="impl"><a class="srclink rightside" href="../../src/opentelemetry_sdk/metrics/view.rs.html#57-64">source</a><a href="#impl-View-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="trait.View.html" title="trait opentelemetry_sdk::metrics::View">View</a> for T<span class="where fmt-newline">where
    T: <a class="trait" href="https://doc.rust-lang.org/nightly/core/ops/function/trait.Fn.html" title="trait core::ops::function::Fn">Fn</a>(&amp;<a class="struct" href="struct.Instrument.html" title="struct opentelemetry_sdk::metrics::Instrument">Instrument</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="struct.Stream.html" title="struct opentelemetry_sdk::metrics::Stream">Stream</a>&gt; + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'static,</span></h3></section></div><script src="../../implementors/opentelemetry_sdk/metrics/view/trait.View.js" data-ignore-extern-crates="alloc" async></script></section></div></main></body></html>