<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Converts strings in a file system friendly and human readable form."><title>sanitize_filename_reader_friendly - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Bold-a2c9cd1067f8b328.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-63a85fc7cf22dee2.css" id="mainThemeStyle"><div id="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="sanitize_filename_reader_friendly" data-themes="" data-resource-suffix="" data-rustdoc-version="1.70.0-nightly (696aaad58 2023-04-09)" data-search-js="search-bc5a112813b5d712.js" data-settings-js="settings-298e1ea74db45b39.js" data-settings-css="settings-0bcba95ff279c1db.css" data-theme-light-css="light-db279b6232be9c13.css" data-theme-dark-css="dark-cf923f49f397b216.css" data-theme-ayu-css="ayu-be46fdc453a55015.css" ></div><script src="../static.files/storage-62ce34ea385b278a.js"></script><script defer src="../crates.js"></script><script defer src="../static.files/main-1159a395118aa44e.js"></script><noscript><link rel="stylesheet" media="(prefers-color-scheme:light)" href="../static.files/light-db279b6232be9c13.css"><link rel="stylesheet" media="(prefers-color-scheme:dark)" href="../static.files/dark-cf923f49f397b216.css"><link rel="stylesheet" href="../static.files/noscript-13285aec31fa243e.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../sanitize_filename_reader_friendly/index.html"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2></h2></nav><nav class="sidebar"><a class="logo-container" href="../sanitize_filename_reader_friendly/index.html"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2 class="location"><a href="#">Crate sanitize_filename_reader_friendly</a></h2><div class="sidebar-elems"><ul class="block"><li class="version">Version 2.2.1</li><li><a id="all-types" href="all.html">All Items</a></li></ul><section><ul class="block"><li><a href="#constants">Constants</a></li><li><a href="#functions">Functions</a></li></ul></section></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Crate <a class="mod" href="#">sanitize_filename_reader_friendly</a><button id="copy-path" title="Copy item path to clipboard"><img src="../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="srclink" href="../src/sanitize_filename_reader_friendly/lib.rs.html#1-342">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Converts strings in a file system friendly and human readable form.</p>
<p>The algorithm replaces or deletes characters from the input stream using
various filters that are applied in the following sequential order:</p>
<ol>
<li>Replace all whitespace with space.</li>
<li>Filter all control characters.</li>
<li><code>REPLACE_ORIG_WITH_UNDERSCORE</code></li>
<li><code>REPLACE_ORIG_WITH_SPACE</code></li>
<li><code>FILTER_PROCESSED_AFTER_LAST_PROCESSED_WAS_SPACE</code></li>
<li><code>FILTER_PROCESSED_AFTER_LAST_PROCESSED_WAS_UNDERSCORE</code></li>
<li><code>FILTER_ORIG_AFTER_LAST_PROCESSED_WAS_WHITESPACE</code></li>
<li><code>FILTER_ORIG_NON_PRINTING_CHARS</code></li>
<li><code>TRIM_LINE_CHARS</code></li>
<li><code>INSERT_LINE_SEPARATOR</code></li>
<li><code>TRIM_END_LINES</code></li>
</ol>
<p>For details see the definition and documentation of the above (private) constants.</p>
<h2 id="rationale"><a href="#rationale">Rationale</a></h2>
<p>Exclude NTFS critical characters:       <code>&lt;&gt;:&quot;\/|?*</code> <br />
<a href="https://msdn.microsoft.com/en-us/library/windows/desktop/aa365247%28v=vs.85%29.aspx">https://msdn.microsoft.com/en-us/library/windows/desktop/aa365247%28v=vs.85%29.aspx</a></p>
<p>These are considered unsafe in URLs:    <code>&lt;&gt;#%{}|\^~[]</code> ` <br />
<a href="https://perishablepress.com/stop-using-unsafe-characters-in-urls/">https://perishablepress.com/stop-using-unsafe-characters-in-urls/</a></p>
<p>New in version 2.0.0:
Do <strong>not</strong> exclude restricted in FAT32:    <code>+,;=[]</code>  <br />
<a href="https://en.wikipedia.org/wiki/Filename#Reserved_characters_and_words">https://en.wikipedia.org/wiki/Filename#Reserved_characters_and_words</a></p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>sanitize_filename_reader_friendly::sanitize;
<span class="kw">let </span>output = sanitize(<span class="string">&quot;Read: http://blog.getreu.net/projects/tp-note/&quot;</span>);
<span class="macro">assert_eq!</span>(output, <span class="string">&quot;Read_ http_blog.getreu.net_projects_tp-note&quot;</span>);</code></pre></div>
<p>The output string’s length is guaranteed to be shorter or equal than the input
string’s length.</p>
</div></details><h2 id="constants" class="small-section-header"><a href="#constants">Constants</a></h2><ul class="item-table"><li><div class="item-name"><a class="constant" href="constant.ALWAYS_REPLACED_OR_FILTERED_CHARS.html" title="constant sanitize_filename_reader_friendly::ALWAYS_REPLACED_OR_FILTERED_CHARS">ALWAYS_REPLACED_OR_FILTERED_CHARS</a></div><div class="desc docblock-short">A set of characters that is always replaced or filtered and will never
appear in the output stream. Please note that additionally to the above :
all <code>is_whitespace()</code> characters are always replaced by space and all
<code>is_control()</code> characters are always filtered.</div></li><li><div class="item-name"><a class="constant" href="constant.POTENTIALLY_REPLACED_CHARS.html" title="constant sanitize_filename_reader_friendly::POTENTIALLY_REPLACED_CHARS">POTENTIALLY_REPLACED_CHARS</a></div><div class="desc docblock-short">An unordered list of all characters that are potentially replaced under
certain conditions. Please note that additionally to the above : all
<code>is_whitespace()</code> characters are always replaced by space and all
<code>is_control()</code> characters are always filtered.</div></li><li><div class="item-name"><a class="constant" href="constant.TRIM_LINE_CHARS.html" title="constant sanitize_filename_reader_friendly::TRIM_LINE_CHARS">TRIM_LINE_CHARS</a></div><div class="desc docblock-short">Group characters into lines (separated by newlines) and trim both sides of
all lines by the set of the quoted characters. In addition to the listed
characters whitespace is trimmed too. As the filter operates line by line,
it guarantees, that none of the listed characters can appear at the
beginning or the at end of the output string.</div></li></ul><h2 id="functions" class="small-section-header"><a href="#functions">Functions</a></h2><ul class="item-table"><li><div class="item-name"><a class="fn" href="fn.sanitize.html" title="fn sanitize_filename_reader_friendly::sanitize">sanitize</a></div><div class="desc docblock-short">Converts strings in a file system friendly and human readable form.</div></li></ul></section></div></main></body></html>